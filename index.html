<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>De l’agitation à l’évidence</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #080313, #020008);
      color: #f5f5ff;
      min-height: 100vh;
      overflow: hidden;
    }

    .page {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 24px;
      position: relative;
      z-index: 1;
    }

    .screen {
      max-width: 640px;
      width: 100%;
      text-align: center;
    }

    .main-text {
      font-size: 1.4rem;
      line-height: 1.5;
      margin-bottom: 1.5rem;
    }

    .sub-text {
      font-size: 1rem;
      line-height: 1.5;
      opacity: 0.85;
      white-space: pre-line;
    }

    .small-note {
      margin-top: 0.75rem;
      font-size: 0.8rem;
      opacity: 0.7;
    }

    .cta-button {
      margin-top: 2rem;
      padding: 0.9rem 1.8rem;
      border-radius: 999px;
      border: none;
      font-size: 0.95rem;
      font-weight: 600;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      cursor: pointer;
      background: radial-gradient(circle at 0% 0%, #ffffff, #ffe5ff);
      color: #05030a;
      box-shadow:
        0 12px 30px rgba(0, 0, 0, 0.8),
        0 0 30px rgba(255, 105, 180, 0.8);
      transition: transform 0.12s ease, box-shadow 0.12s ease, filter 0.12s ease;
    }

    .cta-button:hover {
      transform: translateY(-1px);
      filter: brightness(1.05);
      box-shadow:
        0 16px 40px rgba(0, 0, 0, 0.9),
        0 0 42px rgba(255, 255, 255, 0.9);
    }

    .cta-button:active {
      transform: translateY(0);
      box-shadow:
        0 10px 24px rgba(0, 0, 0, 0.9),
        0 0 26px rgba(255, 255, 255, 0.7);
    }

    .final-text {
      text-align: left;
      font-size: 1.05rem;
      line-height: 1.65;
      white-space: pre-line;
    }

    .final-text span.highlight {
      color: #ffd5f3;
      text-shadow: 0 0 14px rgba(255, 192, 203, 0.9);
    }

    .signature {
      margin-top: 1.4rem;
      text-align: right;
      font-size: 0.9rem;
      opacity: 0.8;
    }

    .hint {
      position: absolute;
      bottom: 16px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 0.8rem;
      opacity: 0.55;
    }

    /* Zone d'animation par étape */
    .anim-container {
      width: 220px;
      height: 220px;
      margin: 0 auto 1.6rem;
      position: relative;
    }

    /* 1) Personnage qui marche (cercle + jambes) */
    .walker {
      position: absolute;
      bottom: 20px;
      left: -40px;
      width: 40px;
      height: 80px;
      animation: walker-move 6s linear infinite;
    }

    .walker-head {
      width: 26px;
      height: 26px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 20%, #ffffff, #ffd5f3);
      margin: 0 auto;
      box-shadow: 0 0 14px rgba(255, 255, 255, 0.4);
    }

    .walker-body {
      width: 4px;
      height: 30px;
      background: linear-gradient(#ffd5f3, #ffffff);
      margin: 4px auto;
      border-radius: 999px;
    }

    .walker-leg {
      position: absolute;
      bottom: 0;
      width: 4px;
      height: 26px;
      background: #ffffff;
      border-radius: 999px;
      transform-origin: top center;
      animation: leg-swing 0.7s ease-in-out infinite alternate;
    }

    .walker-leg.right {
      left: 22px;
      animation-delay: 0.35s;
    }

    .walker-leg.left {
      left: 14px;
    }

    @keyframes walker-move {
      0%   { transform: translateX(0); opacity: 0; }
      10%  { opacity: 1; }
      90%  { transform: translateX(260px); opacity: 1; }
      100% { transform: translateX(260px); opacity: 0; }
    }

    @keyframes leg-swing {
      0%   { transform: rotate(-18deg); }
      100% { transform: rotate(18deg); }
    }

    /* 2) Personnage qui se pose avec halo */
    .settled {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      width: 70px;
      height: 90px;
    }

    .settled-halo {
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 80px;
      height: 80px;
      border-radius: 999px;
      background: radial-gradient(circle, rgba(255,255,255,0.18), transparent 60%);
      opacity: 0;
      animation: halo-pop 2.2s ease-out forwards;
    }

    .settled-person {
      position: absolute;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
    }

    .settled-head {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 20%, #ffffff, #ffd5f3);
      margin: 0 auto;
    }

    .settled-body {
      width: 6px;
      height: 34px;
      background: linear-gradient(#ffd5f3, #ffffff);
      margin: 4px auto;
      border-radius: 999px;
    }

    @keyframes halo-pop {
      0%   { transform: translateX(-50%) scale(0.4); opacity: 0; }
      40%  { transform: translateX(-50%) scale(1.05); opacity: 1; }
      100% { transform: translateX(-50%) scale(1); opacity: 0.65; }
    }

    /* 3) Cœur qui bat doucement */
    .heart-pulse {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 80px;
      height: 80px;
      animation: heart-beat 2.2s ease-in-out infinite;
    }

    .heart-shape {
      position: relative;
      width: 80px;
      height: 80px;
      transform: rotate(-45deg);
    }

    .heart-shape::before,
    .heart-shape::after {
      content: "";
      position: absolute;
      width: 40px;
      height: 64px;
      border-radius: 40px 40px 0 0;
      background: radial-gradient(circle at 30% 15%, #ffffff, #ff9ecb);
      box-shadow: 0 0 16px rgba(255, 158, 203, 0.9);
    }

    .heart-shape::before {
      left: 40px;
    }

    .heart-shape::after {
      left: 0;
    }

    @keyframes heart-beat {
      0%   { transform: translate(-50%, -50%) scale(0.9); opacity: 0.6; }
      30%  { transform: translate(-50%, -50%) scale(1.05); opacity: 1; }
      60%  { transform: translate(-50%, -50%) scale(0.95); opacity: 0.8; }
      100% { transform: translate(-50%, -50%) scale(1); opacity: 0.9; }
    }

    /* 4) Cercle de lumière qui grandit */
    .glow {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 120px;
      height: 120px;
      transform: translate(-50%, -50%);
      border-radius: 50%;
      background: radial-gradient(circle, rgba(255,255,255,0.4), transparent 70%);
      animation: glow-pulse 4s ease-in-out infinite;
    }

    @keyframes glow-pulse {
      0%   { transform: translate(-50%, -50%) scale(0.8); opacity: 0.35; }
      40%  { transform: translate(-50%, -50%) scale(1.1); opacity: 0.8; }
      100% { transform: translate(-50%, -50%) scale(1); opacity: 0.45; }
    }

    /* 5) Deux silhouettes qui se rapprochent */
    .pair {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 180px;
      height: 120px;
      transform: translate(-50%, -50%);
    }

    .person {
      position: absolute;
      bottom: 10px;
      width: 40px;
      height: 70px;
    }

    .person-head {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 20%, #ffffff, #ffd5f3);
      margin: 0 auto;
    }

    .person-body {
      width: 6px;
      height: 34px;
      background: linear-gradient(#ffd5f3, #ffffff);
      margin: 4px auto;
      border-radius: 999px;
    }

    .person.left {
      left: 0;
      animation: move-left 3.2s ease-in-out forwards;
    }

    .person.right {
      right: 0;
      animation: move-right 3.2s ease-in-out forwards;
    }

    @keyframes move-left {
      0%   { transform: translateX(-20px); opacity: 0; }
      30%  { opacity: 1; }
      100% { transform: translateX(35px); opacity: 1; }
    }

    @keyframes move-right {
      0%   { transform: translateX(20px); opacity: 0; }
      30%  { opacity: 1; }
      100% { transform: translateX(-35px); opacity: 1; }
    }

    /* Cœurs flottants en arrière-plan */
    .hearts-bg {
      position: fixed;
      inset: 0;
      pointer-events: none;
      overflow: hidden;
      z-index: 0;
    }

    .heart {
      position: absolute;
      color: rgba(255, 255, 255, 0.18);
      font-size: 18px;
      animation: floatHeart 6s linear forwards;
      text-shadow:
        0 0 8px rgba(255, 255, 255, 0.5),
        0 0 18px rgba(255, 105, 180, 0.7);
    }

    @keyframes floatHeart {
      0% {
        transform: translateY(100vh) scale(0.8);
        opacity: 0;
      }
      10% {
        opacity: 1;
      }
      50% {
        transform: translateY(50vh) translateX(-10px) scale(1);
        opacity: 0.9;
      }
      100% {
        transform: translateY(-10vh) translateX(10px) scale(1.1);
        opacity: 0;
      }
    }

    @media (max-width: 600px) {
      .page {
        padding: 16px;
      }
      .screen {
        max-width: 100%;
      }
      .main-text {
        font-size: 1.15rem;
      }
      .sub-text {
        font-size: 0.9rem;
      }
      .final-text {
        font-size: 0.95rem;
      }
      .cta-button {
        width: 100%;
        font-size: 0.9rem;
      }
    }

    @media (min-width: 1024px) {
      .main-text {
        font-size: 1.7rem;
      }
      .sub-text, .final-text {
        font-size: 1.1rem;
      }
    }
  </style>
</head>

<body>
  <div class="hearts-bg" id="heartsBg"></div>

  <div class="page">
    <div class="screen" id="screen"></div>
    <div class="hint" id="hint"></div>
  </div>

  <script>
    // Cœurs flottants
    const heartsContainer = document.getElementById("heartsBg");

    function createHeart() {
      if (!heartsContainer) return;
      const heart = document.createElement("span");
      heart.className = "heart";
      heart.textContent = "♥";

      const size = 12 + Math.random() * 18;
      const left = Math.random() * 100;
      const delay = Math.random() * 2;

      heart.style.left = left + "vw";
      heart.style.fontSize = size + "px";
      heart.style.animationDelay = delay + "s";

      heartsContainer.appendChild(heart);

      setTimeout(() => {
        heart.remove();
      }, 8000);
    }

    for (let i = 0; i < 10; i++) {
      setTimeout(createHeart, i * 400);
    }
    setInterval(createHeart, 1500);

    // Storytelling
    const screenEl = document.getElementById("screen");
    const hintEl = document.getElementById("hint");
    let step = 1;

    function renderStep1() {
      screenEl.innerHTML = `
        <div class="anim-container">
          <div class="walker">
            <div class="walker-head"></div>
            <div class="walker-body"></div>
            <div class="walker-leg left"></div>
            <div class="walker-leg right"></div>
          </div>
        </div>
        <div class="main-text" id="mainLine"></div>
      `;
      hintEl.textContent = "Clique n’importe où pour continuer";

      const line = "Je ne sais pas expliquer exactement quand ça a commencé.";
      const mainLine = document.getElementById("mainLine");
      mainLine.textContent = "";
      let i = 0;
      const interval = setInterval(() => {
        mainLine.textContent = line.slice(0, i);
        i++;
        if (i > line.length) clearInterval(interval);
      }, 45);
    }

    function renderStep2() {
      screenEl.innerHTML = `
        <div class="anim-container">
          <div class="settled">
            <div class="settled-halo"></div>
            <div class="settled-person">
              <div class="settled-head"></div>
              <div class="settled-body"></div>
            </div>
          </div>
        </div>
        <div class="main-text" id="reorgLine"></div>
        <div class="sub-text">
          C’est comme si, petit à petit, tout s’était aligné en silence.
        </div>
      `;
      hintEl.textContent = "Clique pour continuer";

      const line = "En apprenant à te connaître, quelque chose en moi s’est posé.";
      const el = document.getElementById("reorgLine");
      el.textContent = "";
      let i = 0;
      const interval = setInterval(() => {
        el.textContent = line.slice(0, i);
        i++;
        if (i > line.length) clearInterval(interval);
      }, 45);
    }

    function typeLines(lines, container, delayBetween = 900) {
      container.innerHTML = "";
      lines.forEach((text, index) => {
        const p = document.createElement("p");
        p.className = "sub-text";
        p.style.opacity = "0";
        p.style.transform = "translateY(6px)";
        p.textContent = text;
        container.appendChild(p);
        setTimeout(() => {
          p.style.transition = "opacity 0.5s ease, transform 0.5s ease";
          p.style.opacity = "1";
          p.style.transform = "translateY(0)";
        }, delayBetween * index);
      });
    }

    function renderStep3() {
      screenEl.innerHTML = `
        <div class="anim-container">
          <div class="heart-pulse">
            <div class="heart-shape"></div>
          </div>
        </div>
        <div id="lines"></div>
      `;
      hintEl.textContent = "Clique pour continuer";

      const lines = [
        "Ce n’est pas une excitation passagère.",
        "Ce n’est pas un jeu."
      ];
      const container = document.getElementById("lines");
      typeLines(lines, container, 1100);
    }

    function renderStep4() {
      screenEl.innerHTML = `
        <div class="anim-container">
          <div class="glow"></div>
        </div>
        <div class="main-text" id="evLine"></div>
        <div class="sub-text" id="evSub"></div>
      `;
      hintEl.textContent = "Clique pour continuer";

      const line1 = "C’est une sensation calme, presque évidente.";
      const line2 = "Comme si je reconnaissais en toi quelque chose que j’ai toujours imaginé sans savoir que ça existait vraiment.";

      const mainEl = document.getElementById("evLine");
      const subEl = document.getElementById("evSub");
      mainEl.textContent = "";
      subEl.textContent = "";

      let i = 0;
      const interval1 = setInterval(() => {
        mainEl.textContent = line1.slice(0, i);
        i++;
        if (i > line1.length) clearInterval(interval1);
      }, 50);

      setTimeout(() => {
        let j = 0;
        const interval2 = setInterval(() => {
          subEl.textContent = line2.slice(0, j);
          j++;
          if (j > line2.length) clearInterval(interval2);
        }, 35);
      }, 2300);
    }

    function renderStep5() {
      screenEl.innerHTML = `
        <div class="anim-container">
          <div class="pair">
            <div class="person left">
              <div class="person-head"></div>
              <div class="person-body"></div>
            </div>
            <div class="person right">
              <div class="person-head"></div>
              <div class="person-body"></div>
            </div>
          </div>
        </div>
        <div class="main-text">
          À ce stade, il reste une seule chose à faire.
        </div>
        <button class="cta-button" id="goBtn">Avancer vers toi</button>
        <div class="small-note">Sans pression. Juste sincèrement.</div>
      `;
      hintEl.textContent = "";

      const btn = document.getElementById("goBtn");
      btn.addEventListener("click", () => {
        renderFinal();
      });
    }

    function renderFinal() {
      screenEl.innerHTML = `
        <div class="final-text">
Je ne sais pas expliquer exactement quand ça a commencé.
Je sais juste qu’en apprenant à te connaître, quelque chose en moi s’est posé.

Ce n’est pas une excitation passagère.
Ce n’est pas un jeu.

C’est une sensation calme, presque évidente.
Comme si je reconnaissais en toi quelque chose que j’ai toujours imaginé sans savoir que ça existait vraiment.

Je ne veux rien forcer, ni te mettre une pression.
Je veux juste être honnête :
ce que je ressens est <span class="highlight">sincère</span>, <span class="highlight">réfléchi</span>, et je le prends au sérieux.

Je ne sais pas où ça nous mènera.
Mais je sais que ce n’est pas un hasard si je suis là, à vouloir avancer vers toi.
        </div>
        <div class="signature">
          – moi
        </div>
      `;
      hintEl.textContent = "";
    }

    function renderCurrentStep() {
      if (step === 1) renderStep1();
      if (step === 2) renderStep2();
      if (step === 3) renderStep3();
      if (step === 4) renderStep4();
      if (step === 5) renderStep5();
    }

    renderCurrentStep();

    document.addEventListener("click", (e) => {
      const tag = e.target.tagName.toLowerCase();
      if (tag === "button") return;
      if (step < 5) {
        step++;
        renderCurrentStep();
      }
    });
  </script>
</body>
</html>
